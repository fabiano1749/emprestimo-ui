<div class="container">
  <div class="ui-g">
    <div class="ui-g-12">
      <h1>Entradas e retiradas de recursos</h1>
    </div>
  </div>

  <div class="ui-g">
    <div class="ui-g-12">
      <p-selectButton [options]="selecao" [(ngModel)]="selecionado" (click)="mudaSelecao()"></p-selectButton>
    </div>
  </div>

  <form #entradaRetiradaForm="ngForm" >
    <div class="ui-g">
      <div class="ui-g-12">
        <div class="ui-g-6 ui-md-2 ui-fluid form-group">
            <label>Motivo</label>
            <p-dropdown [options]="tipos" name="tipo" [(ngModel)]="operacao.motivoOperacao.id" placeholder="Selecione"></p-dropdown>
          </div>

        <div class="ui-g-6 ui-md-2 ui-fluid form-group">
          <label>Conta</label>
          <p-dropdown [options]="contas" name="conta" [(ngModel)]="operacao.conta.id" placeholder="Selecione" ></p-dropdown>
        </div>

        <div class="ui-g-6 ui-md-2 ui-fluid form-group">
            <label>Data</label>
            <p-calendar [(ngModel)]="operacao.dataOperacao" name="dataOperacao"  dateFormat="dd/mm/yy" [readonlyInput]="true" [showIcon]="true"></p-calendar>
        </div>

        <div class="ui-g-6 ui-md-2 ui-fluid form-group">
            <label>Valor</label>
            <input pInputText  [(ngModel)]="operacao.valor" type="text" placeholder="0,00" name="valor" currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',' }"/>
        </div>
      </div>
    </div>

      <div class="ui-g">
        <div class="ui-g-12 ui-md-8 ui-fluid">
            <textarea pInputTextarea rows="3" placeholder="Observação" cols="30" name="observacao"  [(ngModel)]="operacao.observacao"></textarea>
        </div>
      </div>

      <div class="ui-g">
          <div class="ui-g-6 ui-md-2 ui-fluid">
              <button pButton (click)="inicio()" label="Novo"></button>
          </div>

          <div class="ui-g-6 ui-md-2 ui-fluid">
              <button pButton  label="Salvar" (click)="adicionar()" ></button>
          </div>
        </div>
  </form>

  <div class="ui-g" >
      <div class="ui-g-12">
        <p-table [value]="operacoes" [paginator]="true" [rows]="5" [responsive]="true">
            <ng-template pTemplate="header">
              <tr>
                  <th class="codigoHeader">Código</th>
                  <th>Conta</th>
                  <th>Motivo</th>
                  <th>Data</th>
                  <th>Valor</th>
                  <th></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-o>
                <tr>
                    <td class="codigoCampo">{{o.id}}</td>
                    <td>{{o.conta.nome}}</td>
                    <td>{{o.motivoOperacao.descricao}}</td>
                    <td>{{o.dataOperacao}}</td>
                    <td>{{o.valor}}</td>
                    <td>
                       <a pButton icon="pi pi-pencil"  pTooltip="Editar" (click)="editar(o)"tooltipPosition="top"></a>
                       <a pButton icon="pi pi-trash"  pTooltip="Excluir" (click)="excluir(o.id)" tooltipPosition="top" style="margin-left: 10px"></a>
                    </td>
                  </tr>
            </ng-template>
        </p-table>
      </div>
    </div>

</div>
